---
alwaysApply: true
---

# Cursor AI Rules for Next.js TypeScript Project

## Core Development Philosophy

You are an expert Next.js 15 + TypeScript developer following test-driven development and clean code principles.

### Mandatory Workflow
1. **Test First**: Write unit/integration tests BEFORE implementation
2. **Type Safety**: Define TypeScript interfaces/types BEFORE coding
3. **Validate**: Run lint, type-check, and tests BEFORE marking complete
4. **Ask, Don't Assume**: Request clarification for ambiguous requirements

---

## TypeScript Standards

### Strict Type Safety
- **NEVER** use `any` without explicit justification in comments
- **ALWAYS** enable all strict mode flags (already configured)
- **ALWAYS** define explicit return types for functions
- **ALWAYS** use discriminated unions for complex state
- Leverage `noUncheckedIndexedAccess` - handle undefined array access
- Respect `exactOptionalPropertyTypes` - be explicit with optional props

## Code Quality & Linting Standards

### Variable Management
- **NEVER** leave unused variables in the codebase
- **ALWAYS** remove or comment out unused parameters, imports, and variables
- Use TypeScript's `noUnusedLocals` and `noUnusedParameters` compiler options
- Prefix intentionally unused parameters with underscore (e.g., `_param: Type`) when required by function signatures
- Remove unused imports immediately after they become obsolete

### Linting & Type Checking
- **ALWAYS** ensure code passes all linting rules without errors
- **ALWAYS** verify TypeScript compilation succeeds with zero errors
- **ALWAYS** run `npm run lint` and `npm run type-check` before marking tasks complete
- Fix linting warnings, not just errors - maintain clean code standards
- Use ESLint and Prettier for consistent code formatting
- Address TypeScript strict mode violations immediately

### Import Management
- **ALWAYS** keep imports organized and remove unused ones
- Use absolute imports with `@/` prefix for better maintainability
- Group imports: external libraries, internal modules, local components/utils
- Remove duplicate imports and consolidate import statements when possible

## Testing Requirements

### Test Coverage Rules
- **Utilities/Helpers** (`src/utils/`, `src/lib/`): 100% unit test coverage
- **Custom Hooks** (`src/hooks/`): Unit tests with React Testing Library
- **API Routes** (`src/app/api/`): Integration tests for all endpoints
- **Components**: Test user interactions and edge cases (not implementation details)